<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-base-camp docs-doc-id-docs/introduction-to-ethereum/evm-diagram">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">EVM Diagram | Base</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.base.org/base-camp/docs/introduction-to-ethereum/evm-diagram"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-base-camp-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-base-camp-current"><meta data-rh="true" property="og:title" content="EVM Diagram | Base"><meta data-rh="true" name="description" content="An overview of the Ethereum Virtual Machine"><meta data-rh="true" property="og:description" content="An overview of the Ethereum Virtual Machine"><link data-rh="true" rel="icon" href="../../../../img/favicon.ico"><link data-rh="true" rel="canonical" href="index.html"><link data-rh="true" rel="alternate" href="index.html" hreflang="en"><link data-rh="true" rel="alternate" href="index.html" hreflang="x-default"><link rel="stylesheet" href="../../../../assets/css/styles.3692d699.css">
<link rel="preload" href="../../../../assets/js/runtime~main.3b600ada.js" as="script">
<link rel="preload" href="../../../../assets/js/main.5ec255ba.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div data-rk=""><style>[data-rk]{--rk-blurs-modalOverlay:blur(0px);--rk-fonts-body:SFRounded, ui-rounded, "SF Pro Rounded", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--rk-radii-actionButton:9999px;--rk-radii-connectButton:12px;--rk-radii-menuButton:12px;--rk-radii-modal:24px;--rk-radii-modalMobile:28px;--rk-colors-accentColor:#0E76FD;--rk-colors-accentColorForeground:#FFF;--rk-colors-actionButtonBorder:rgba(0, 0, 0, 0.04);--rk-colors-actionButtonBorderMobile:rgba(0, 0, 0, 0.06);--rk-colors-actionButtonSecondaryBackground:rgba(0, 0, 0, 0.06);--rk-colors-closeButton:rgba(60, 66, 66, 0.8);--rk-colors-closeButtonBackground:rgba(0, 0, 0, 0.06);--rk-colors-connectButtonBackground:#FFF;--rk-colors-connectButtonBackgroundError:#FF494A;--rk-colors-connectButtonInnerBackground:linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06));--rk-colors-connectButtonText:#25292E;--rk-colors-connectButtonTextError:#FFF;--rk-colors-connectionIndicator:#30E000;--rk-colors-downloadBottomCardBackground:linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF;--rk-colors-downloadTopCardBackground:linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF;--rk-colors-error:#FF494A;--rk-colors-generalBorder:rgba(0, 0, 0, 0.06);--rk-colors-generalBorderDim:rgba(0, 0, 0, 0.03);--rk-colors-menuItemBackground:rgba(60, 66, 66, 0.1);--rk-colors-modalBackdrop:rgba(0, 0, 0, 0.3);--rk-colors-modalBackground:#FFF;--rk-colors-modalBorder:transparent;--rk-colors-modalText:#25292E;--rk-colors-modalTextDim:rgba(60, 66, 66, 0.3);--rk-colors-modalTextSecondary:rgba(60, 66, 66, 0.6);--rk-colors-profileAction:#FFF;--rk-colors-profileActionHover:rgba(255, 255, 255, 0.5);--rk-colors-profileForeground:rgba(60, 66, 66, 0.06);--rk-colors-selectedOptionBorder:rgba(60, 66, 66, 0.1);--rk-colors-standby:#FFD641;--rk-shadows-connectButton:0px 4px 12px rgba(0, 0, 0, 0.1);--rk-shadows-dialog:0px 8px 32px rgba(0, 0, 0, 0.32);--rk-shadows-profileDetailsAction:0px 2px 6px rgba(37, 41, 46, 0.04);--rk-shadows-selectedOption:0px 2px 6px rgba(0, 0, 0, 0.24);--rk-shadows-selectedWallet:0px 2px 6px rgba(0, 0, 0, 0.12);--rk-shadows-walletLogo:0px 2px 16px rgba(0, 0, 0, 0.16);}</style><div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://base.org" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="../../../../img/logo.svg" alt="Base" class="themedImage_RWGG themedImage--light_riBm"><img src="../../../../img/logo_dark.svg" alt="Base" class="themedImage_RWGG themedImage--dark_Dsi0"></div></a><a class="navbar__item navbar__link" href="../../../../index.html">Documentation</a><a class="navbar__item navbar__link" href="../../welcome/index.html">Base Camp</a><a class="navbar__item navbar__link" href="../../../../security/index.html">Security</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://www.twitter.com/BuildOnBase" target="_blank" rel="noopener noreferrer" class="dropdown__link">Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://base.org/discord" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.github.com/base-org" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_xrOJ"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV docsWrapper_BqXd"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docPage_pOTq"><aside class="theme-doc-sidebar-container docSidebarContainer_aIKW"><div class="sidebarViewport_DwR9"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../welcome/index.html">Welcome to Base Camp</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="../intro-to-ethereum-vid/index.html">Introduction to Ethereum</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-video"><a class="menu__link" tabindex="0" href="../intro-to-ethereum-vid/index.html">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-video"><a class="menu__link" tabindex="0" href="../ethereum-dev-overview-vid/index.html">Ethereum Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-reading"><a class="menu__link" tabindex="0" href="../ethereum-applications/index.html">Ethereum Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-reading"><a class="menu__link" tabindex="0" href="../gas-use-in-eth-transactions/index.html">Gas Use in Ethereum Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-reading"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="index.html">EVM Diagram</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-reading"><a href="https://www.coinbase.com/cloud/discover/protocol-guides/guide-to-base" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_xK2O" tabindex="0">Guide to Base<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../introduction-to-solidity/introduction-to-solidity-overview/index.html">Smart Contract Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../intro-to-tokens/intro-to-tokens-vid/index.html">Token Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../hardhat-setup-overview/hardhat-overview-vid/index.html">Development with Hardhat</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_Ftvb"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_c4WT"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_fv3b"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="../../../../index.html"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Introduction to Ethereum</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">EVM Diagram</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>EVM Diagram</h1></header><p>In this article, we&#x27;ll examine the inner workings of the EVM, its components, and its role within the Ethereum network.</p><hr><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="objectives">Objectives<a href="#objectives" class="hash-link" aria-label="Direct link to Objectives" title="Direct link to Objectives">​</a></h2><p>By the end of this lesson you should be able to:</p><ul><li>Diagram the EVM</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="what-is-the-evm">What is the EVM?<a href="#what-is-the-evm" class="hash-link" aria-label="Direct link to What is the EVM?" title="Direct link to What is the EVM?">​</a></h2><p>The Ethereum Virtual Machine (EVM) is the core engine of Ethereum. It is a Turing-complete, sandboxed virtual machine designed to execute smart contracts on the network. The term &quot;sandboxed&quot; means that the EVM operates in an isolated environment, ensuring that each smart contract&#x27;s execution does not interfere with others or the underlying blockchain. As we&#x27;ve learned, the EVM&#x27;s Turing-complete nature allows developers to write complex programs that can perform any computationally feasible task.</p><p>The EVM employs a sophisticated resource management system using gas to regulate computation costs and prevent network abuse. It also supports a rich ecosystem of dapps by providing a versatile set of opcodes for smart contract logic, and fostering interoperability with various programming languages, tools, and technologies. This adaptability has made the EVM a fundamental component in the advancement and growth of the Ethereum network.</p><hr><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="evm-components">EVM Components<a href="#evm-components" class="hash-link" aria-label="Direct link to EVM Components" title="Direct link to EVM Components">​</a></h2><p>The EVM has several key components that enable it to process and manage smart contracts. Let&#x27;s define them:</p><ul><li><strong>World State:</strong> Represents the entire Ethereum network, including all accounts and their associated storage.</li><li><strong>Accounts:</strong> Entities that interact with the Ethereum network, including Externally Owned Accounts (EOAs) and Contract Accounts.</li><li><strong>Storage:</strong> A key-value store associated with each contract account, containing the contract&#x27;s state and data.</li><li><strong>Gas:</strong> A mechanism for measuring the cost of executing operations in the EVM, which protects the network from spam and abuse.</li><li><strong>Opcodes:</strong> Low-level instructions that the EVM executes during smart contract processing.</li><li><strong>Execution Stack:</strong> A last-in, first-out (LIFO) data structure for temporarily storing values during opcode execution.</li><li><strong>Memory:</strong> A runtime memory used by smart contracts during execution.</li><li><strong>Program Counter:</strong> A register that keeps track of the position of the next opcode to be executed.</li><li><strong>Logs:</strong> Events emitted by smart contracts during execution, which can be used by external systems for monitoring or reacting to specific events.</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="evm-execution-model">EVM Execution Model<a href="#evm-execution-model" class="hash-link" aria-label="Direct link to EVM Execution Model" title="Direct link to EVM Execution Model">​</a></h2><p>In simple terms, when a transaction is submitted to the network, the EVM first verifies its validity. If the transaction is deemed valid, the EVM establishes an execution context that incorporates the current state of the network and processes the smart contract&#x27;s bytecode using opcodes. As the EVM runs the smart contract, it modifies the blockchain&#x27;s world state and consumes gas accordingly. However, if the transaction is found to be invalid, it will be dismissed by the network without further processing. Throughout the smart contract&#x27;s execution, logs are generated that provide insights into the contract&#x27;s performance and any emitted events. These logs can be utilized by external systems for monitoring purposes or to respond to specific events.</p><p><img loading="lazy" alt="EVM Execution Model" src="../../../../assets/images/evm-execution-basic-64e6de4513b52378827fb7328f872a33.png" width="500" height="269" class="img__Ss2"></p><hr><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="gas-and-opcode-execution">Gas and Opcode Execution<a href="#gas-and-opcode-execution" class="hash-link" aria-label="Direct link to Gas and Opcode Execution" title="Direct link to Gas and Opcode Execution">​</a></h2><p>While we have already delved into the concept of gas in a previous lesson, it is worth reiterating its critical role within the EVM and as a fundamental component of Ethereum. Gas functions as a metric for quantifying the computational effort needed to carry out operations in the EVM. Every opcode in a smart contract carries a specific gas cost, which reflects the computational resources necessary for its execution.</p><p>Opcodes are the low-level instructions executed by the EVM. They represent elementary operations that allow the EVM to process and manage smart contracts.</p><p><img loading="lazy" alt="Opcode Execution" src="../../../../assets/images/opcode-execution-fcbcd7d8c2d69f941e0ea45cc8cf65ee.png" width="563" height="202" class="img__Ss2"></p><p>During execution, the EVM reads opcodes from the smart contract, and depending on the opcode, it may update the world state, consume gas, or revert the state if an error occurs. Some common opcodes include:</p><ul><li><strong>ADD:</strong> Adds two values from the stack.</li><li><strong>SUB:</strong> Subtracts two values from the stack.</li><li><strong>MSTORE:</strong> Stores a value in memory.</li><li><strong>SSTORE:</strong> Stores a value in contract storage.</li><li><strong>CALL:</strong> Calls another contract or sends ether.</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="stack-and-memory">Stack and Memory<a href="#stack-and-memory" class="hash-link" aria-label="Direct link to Stack and Memory" title="Direct link to Stack and Memory">​</a></h2><p>The EVM stack and memory are critical components of the EVM architecture, as they enable smart contracts to manage temporary data during opcode execution. The stack is a last-in, first-out (LIFO) data structure that is used for temporarily storing values during opcode execution. It is managed by the EVM and is separate from the contract&#x27;s storage. The stack supports two primary operations: push and pop.</p><p>The push operation adds a value to the top of the stack, while the pop operation removes the top value from the stack. These operations are used to manage temporary data during opcode execution. For example, an opcode that performs an addition operation might push the two operands onto the stack, perform the addition, and then pop the result off the top of the stack.</p><p>During contract execution, memory serves as a collection of bytes, organized in an array, for the purpose of temporarily storing data. It can be read from and written to by opcodes. Memory is often used to store temporary data during opcode execution, such as when working with dynamically sized data like strings or arrays that are being manipulated or computed within the smart contract before being stored in the contract&#x27;s storage. When a smart contract needs to store temporary data during opcode execution, it can use the memory to store that data.</p><p><img loading="lazy" alt="EVM Stack and Memory" src="../../../../assets/images/evm-stack-memory-3af234542d11a13a0930fb362e80818f.png" width="512" height="404" class="img__Ss2"></p><hr><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="evm-architecture-and-execution-context">EVM Architecture and Execution Context<a href="#evm-architecture-and-execution-context" class="hash-link" aria-label="Direct link to EVM Architecture and Execution Context" title="Direct link to EVM Architecture and Execution Context">​</a></h2><p>To fully grasp the EVM architecture and its components, it&#x27;s important to see how they all come together in a cohesive manner. The following diagram provides an in-depth visualization of the EVM architecture, showcasing the interactions between key elements such as transactions, gas, opcodes, and the world state. With this diagram, you can see how each component plays a vital role in the seamless execution of smart contracts on the Ethereum network.</p><p><img loading="lazy" alt="Figure 13-1. EVM architecture and execution context." src="../../../../assets/images/evm-architecture-execution-756d46441d9e39e2c79f0236193bc17b.png" width="939" height="1125" class="img__Ss2">
Image Source: <a href="https://github.com/ethereumbook/ethereumbook" target="_blank" rel="noopener noreferrer">Mastering Ethereum</a> by Andreas M. Antonopoulos and Gavin Wood, licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer">CC BY-SA 4.0</a></p><hr><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>The EVM plays a vital role within the Ethereum network. By examining the EVM&#x27;s key components as well as its architecture and execution model, we&#x27;ve gained insight into the engine of Ethereum and how it enables the smooth execution of smart contracts on the platform.</p><hr><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="see-also">See Also<a href="#see-also" class="hash-link" aria-label="Direct link to See Also" title="Direct link to See Also">​</a></h2><ul><li><a href="https://cypherpunks-core.github.io/ethereumbook/13evm.html#evm_architecture" target="_blank" rel="noopener noreferrer">The Ethereum Virtual Machine (Mastering Ethereum)</a></li><li><a href="https://ethereum.org/en/developers/docs/evm/" target="_blank" rel="noopener noreferrer">Ethereum Virtual Machine (Ethereum docs)</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="../gas-use-in-eth-transactions/index.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Gas Use in Ethereum Transactions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="../../introduction-to-solidity/introduction-to-solidity-overview/index.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#objectives" class="table-of-contents__link toc-highlight">Objectives</a></li><li><a href="#what-is-the-evm" class="table-of-contents__link toc-highlight">What is the EVM?</a></li><li><a href="#evm-components" class="table-of-contents__link toc-highlight">EVM Components</a></li><li><a href="#evm-execution-model" class="table-of-contents__link toc-highlight">EVM Execution Model</a></li><li><a href="#gas-and-opcode-execution" class="table-of-contents__link toc-highlight">Gas and Opcode Execution</a></li><li><a href="#stack-and-memory" class="table-of-contents__link toc-highlight">Stack and Memory</a></li><li><a href="#evm-architecture-and-execution-context" class="table-of-contents__link toc-highlight">EVM Architecture and Execution Context</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#see-also" class="table-of-contents__link toc-highlight">See Also</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://stack.optimism.io" rel="noopener noreferrer" class="footerLogoLink_zxYv"><img src="../../../../img/op_stack.svg" alt="Built on the OP Stack" class="themedImage_RWGG themedImage--light_riBm footer__logo" width="160" height="51"><img src="../../../../img/op_stack_dark.svg" alt="Built on the OP Stack" class="themedImage_RWGG themedImage--dark_Dsi0 footer__logo" width="160" height="51"></a></div><div class="footer__copyright">© 2023 Coinbase</div></div></div></footer></div></div>
<script src="../../../../assets/js/runtime~main.3b600ada.js"></script>
<script src="../../../../assets/js/main.5ec255ba.js"></script>
</body>
</html>